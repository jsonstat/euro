<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>SON-stat for Eurostat ECMAScript module</title>
  <link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>
	<h1>JSON-stat for Eurostat <span id="version"></span></h1>
	<main class="tbrowser">Connecting...</main>

  <script nomodule>
    //For old browsers not supporting ES modules
    window.alert("Sorry, your browser does not support ECMAScript modules!");
  </script>

	<script type="module">
	import { fetchDataset, version } from "https://unpkg.com/jsonstat-euro@latest/import.mjs";
	//or https://cdn.jsdelivr.net/npm/jsonstat-euro@latest/import.mjs

	//(Optional) We use tbrowser to display the data
	import { tbrowser, datalist } from "https://unpkg.com/jsonstat-suite@latest/import.mjs";
	//or https://cdn.jsdelivr.net/npm/jsonstat-suite@latest/import.mjs

	const query={
		dataset: "une_rt_a",
		filter: {
			unit: ["PC_ACT"]
		}
	};

	document.getElementById("version").innerHTML=version;

	fetchDataset(query).then(ds=>{
		if(ds.class==="dataset"){
			tbrowser(
				ds,
				document.getElementsByTagName("main")[0],
				{
					preset: "bigger",
					nonconst: true
				}
			);
		}
	});
	</script>

</body>
</html>
